#include <string>
#include <string.h>
#include <iostream>
#include <stdio.h>
using namespace std;

string exec(char* cmd)
{
	//Opens a pipe which allows two processes to communicate

	FILE* pipe = popen(cmd, "r");

	if (!pipe) return "ERROR";

	//Buffer reads from file

	char buffer[128];
	string result = "";

	while(!feof(pipe))
	{
		//Result reads from buffer

		if(fgets(buffer, 128, pipe) != NULL)
			result += buffer;
	}

	//Pipe closed

	pclose(pipe);

	return result;
}

int main(int argc, char *argv[])
{
	string output;

	char input[200]="\0";
	
	for(int i=1;i<argc;i++)
	{
		strcat(input,argv[i]);
		strcat(input," ");
	}
	output = exec(input);
	cout<<endl<<output<<endl;

	return 0;
}
